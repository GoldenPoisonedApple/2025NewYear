# WebServer構築
- 参考
https://qiita.com/shutx/items/810c8aa21c8cd3c16b25
https://zenn.dev/manmaru_ai/articles/79f0d63e079393


### ついでに公開鍵認証でSSHにする
- さらに参考
https://miraistudio.notion.site/1106c35ce62580d08150f6df42f8e8ca

ssh-copy-idがwindowsだとできなかったんでUbuntuから実行
systemctl restart sshd はUbuntuだと sudo systemctl restart ssh
ポートも変更
Port 10022
- ファイアーウォールの設定更新
sudo apt install firewalld

公開鍵認証ssh
ssh itous@153.127.215.8 -p 10022 -i /Users/itous/.ssh/mirai_server

### Webサーバ
sudo apt update
sudo apt -y install apache2

この時点でWebが動く
http://153.127.215.8/

#### Dockerめんどい
よってスキップ

sudo a2enmod http2したらsystemctl restart apache2しろってさ
SSL/TLS設定 : これドメインないといけないみたいだね


### Webサーバにアクセスできんくなってる！
どこだ！どこでミスった！！！
Webサーバー用のポート（通常は80番と443番）の開放: Apacheサーバーにアクセスできるように、HTTP（80番）およびHTTPS（443番）のポートを開放
sudo firewall-cmd --zone=public --add-port=80/tcp --permanent
sudo firewall-cmd --zone=public --add-port=443/tcp --permanent
sudo firewall-cmd --reload

できた
あっぶね
もう何もいじりません

### 今度はSSHが出来んくなってる！
PubkeyAuthentication yes
- ファイアーウォール設定
sudo ufw allow 10022/tcp
sudo ufw reload
あっぶね


### Webページの場所
var/www/html/

デキタｧｧｧｧ
http://153.127.215.8/2025NewYear/


## その他
OGPのイメージが何回やってもサーバの画像はダメ(他のURLだったら全然いけた)だったからフォトにアップロードしてそこのURL使用した
